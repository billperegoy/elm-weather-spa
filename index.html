<html>
  <head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/open-iconic/1.1.1/font/css/open-iconic-bootstrap.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <script type="text/javascript" src="dist/bundle.js"></script>
  </head>
  <body>
    <div id="elm-app"></div>

    <script type="text/javascript">
      var elmDiv = document.getElementById('elm-app');
      var app = Elm.Main.embed(elmDiv);

      app.ports.saveLocation.subscribe(function(locationString) {
        var items = window.localStorage.getItem('elmLocations') || "";
        var newItems;
        if (items === "") {
          newItems = locationString;
        } else {
          newItems = items + ":" + locationString;
        }
        window.localStorage.setItem('elmLocations', newItems);
      });

      app.ports.requestLocations.subscribe(function() {
        var locations = window.localStorage.getItem('elmLocations') || "";
        app.ports.receiveLocations.send(locations);
      });


    </script>
  </body>
</html>
